<template>
  <div class="like-component col-11 m-auto d-flex justify-content-start align-items-center gap-2 pb-2 cursor-pointer select-none" @click="toggleLike">
    <!-- SVG coração não curtido -->
    <svg v-if="!liked" width="16" height="14" viewBox="0 0 16 14" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M7.94565 13.9053C7.51952 13.9053 7.09405 13.771 6.73027 13.5019C3.73756 11.2892 0.140675 7.97382 0.00408634 4.74194C-0.0555052 3.33046 0.536941 2.06898 1.76411 0.993035C2.68431 0.204771 3.6689 -0.115734 4.69721 0.0369886C6.16829 0.254773 7.33372 1.40942 7.94553 2.15242C8.55737 1.40935 9.72349 0.254738 11.1946 0.0369886C12.2173 -0.113679 13.2068 0.204777 14.1229 0.988933C15.3549 2.06895 15.9466 3.33035 15.8877 4.74187C15.7512 7.97305 12.155 11.2884 9.16085 13.5011C8.79775 13.7703 8.37162 13.9052 7.94615 13.9052L7.94565 13.9053ZM4.20668 1.09591C3.62254 1.09591 3.05991 1.33356 2.49517 1.81706C1.52024 2.67176 1.06637 3.61481 1.1121 4.6962C1.20426 6.88158 3.43552 9.6969 7.39481 12.6241C7.72465 12.8679 8.16742 12.8679 8.49655 12.6248C8.49655 12.6241 8.49724 12.6241 8.49724 12.6241C12.4572 9.69777 14.6877 6.88158 14.7807 4.6962C14.8264 3.61481 14.3718 2.67176 13.3927 1.81303C12.731 1.24597 12.0637 1.0193 11.3633 1.11997C9.71341 1.36172 8.42944 3.34918 8.41632 3.36899C8.21261 3.68745 7.68114 3.68745 7.47741 3.36899C7.46493 3.34913 6.18026 1.36174 4.53118 1.11997C4.42239 1.10422 4.31429 1.096 4.20759 1.096L4.20668 1.09591Z" fill="#C0BDAD"/>
    </svg>

    <!-- SVG coração curtido -->
    <svg class="icon-mobile" v-else width="16" height="14" viewBox="0 0 16 14" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M7.94565 13.9053C7.51952 13.9053 7.09405 13.771 6.73027 13.5019C3.73756 11.2892 0.140675 7.97382 0.00408634 4.74194C-0.0555052 3.33046 0.536941 2.06898 1.76411 0.993035C2.68431 0.204771 3.6689 -0.115734 4.69721 0.0369886C6.16829 0.254773 7.33372 1.40942 7.94553 2.15242C8.55737 1.40935 9.72349 0.254738 11.1946 0.0369886C12.2173 -0.113679 13.2068 0.204777 14.1229 0.988933C15.3549 2.06895 15.9466 3.33035 15.8877 4.74187C15.7512 7.97305 12.155 11.2884 9.16085 13.5011C8.79775 13.7703 8.37162 13.9052 7.94615 13.9052L7.94565 13.9053ZM4.20668 1.09591C3.62254 1.09591 3.05991 1.33356 2.49517 1.81706C1.52024 2.67176 1.06637 3.61481 1.1121 4.6962C1.20426 6.88158 3.43552 9.6969 7.39481 12.6241C7.72465 12.8679 8.16742 12.8679 8.49655 12.6248C8.49655 12.6241 8.49724 12.6241 8.49724 12.6241C12.4572 9.69777 14.6877 6.88158 14.7807 4.6962C14.8264 3.61481 14.3718 2.67176 13.3927 1.81303C12.731 1.24597 12.0637 1.0193 11.3633 1.11997C9.71341 1.36172 8.42944 3.34918 8.41632 3.36899C8.21261 3.68745 7.68114 3.68745 7.47741 3.36899C7.46493 3.34913 6.18026 1.36174 4.53118 1.11997C4.42239 1.10422 4.31429 1.096 4.20759 1.096L4.20668 1.09591Z" fill="#A20712"/>
      <path d="M10.4284 0.993164L7.94534 2.97963L5.95888 0.993164H3.97241L1.48933 1.48978L0.496094 3.47625L0.99271 6.45595L3.97241 10.9255L7.94534 13.4086L8.93858 12.912L12.9115 9.43565L14.898 6.95256V2.97963L12.9115 0.993164H10.4284Z" fill="#A20712"/>
    </svg>

    <span class="text-gray-800 font-medium text-berge like-font-mobile">{{ likes }} curtidas</span>
  </div>
</template>

<script setup>
import { ref } from "vue";

const props = defineProps({
  initialLikes: {
    type: Number,
    default: 0
  }
});

const likes = ref(props.initialLikes);
const liked = ref(false);

function toggleLike() {
  liked.value = !liked.value;
  likes.value += liked.value ? 1 : -1;
}
</script>

<style scoped>
.like-component svg {
  transition: transform 0.2s ease, fill 0.2s ease;
}

.like-component:hover svg {
  transform: scale(1.2);
}
@media (max-width: 576px) {
    .icon-mobile{
      width: 15px;
    }
    .like-font-mobile{
        font-size: 0.75rem;
    }
}
</style>
